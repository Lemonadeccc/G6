{"version":3,"sources":["docs/manual/getting-started/integration/react.zh.md?type=text"],"sourcesContent":["\n  import '/home/runner/work/G6/G6/packages/site/docs/manual/getting-started/integration/react.zh.md?watch=parent';\n  export const texts = [{\"value\":\"参考下面的示例，你可以在 React 中使用 G6，也可以查看 \",\"paraId\":0,\"tocIndex\":0},{\"value\":\"在线示例\",\"paraId\":0,\"tocIndex\":0},{\"value\":\" 。\",\"paraId\":0,\"tocIndex\":0},{\"value\":\"import { Graph } from '@antv/g6';\\nimport { useEffect, useRef } from 'react';\\n\\nexport default () => {\\n  const containerRef = useRef<HTMLDivElement>(null);\\n\\n  useEffect(() => {\\n    const graph = new Graph({\\n      container: containerRef.current!,\\n      width: 500,\\n      height: 500,\\n      data: {\\n        nodes: [\\n          {\\n            id: 'node-1',\\n            style: { x: 50, y: 100 },\\n          },\\n          {\\n            id: 'node-2',\\n            style: { x: 150, y: 100 },\\n          },\\n        ],\\n        edges: [{ id: 'edge-1', source: 'node-1', target: 'node-2' }],\\n      },\\n    });\\n\\n    graph.render();\\n  }, []);\\n\\n  return <div ref={containerRef} />;\\n};\\n\",\"paraId\":1,\"tocIndex\":0},{\"value\":\"在严格模式下，React 会二次更新导致 G6 重复创建 Graph 实例并销毁，可以参考如下示例解决：\",\"paraId\":2,\"tocIndex\":1},{\"value\":\"import type { GraphOptions } from '@antv/g6';\\nimport { Graph as G6Graph } from '@antv/g6';\\nimport { useEffect, useRef } from 'react';\\n\\nexport interface GraphProps {\\n  options: GraphOptions;\\n  onRender?: (graph: G6Graph) => void;\\n  onDestroy?: () => void;\\n}\\n\\nexport const Graph = (props: GraphProps) => {\\n  const { options, onRender, onDestroy } = props;\\n  const graphRef = useRef<G6Graph>();\\n  const containerRef = useRef<HTMLDivElement>(null);\\n\\n  useEffect(() => {\\n    const graph = new G6Graph({ container: containerRef.current! });\\n    graphRef.current = graph;\\n\\n    return () => {\\n      const graph = graphRef.current;\\n      if (graph) {\\n        graph.destroy();\\n        onDestroy?.();\\n        graphRef.current = undefined;\\n      }\\n    };\\n  }, []);\\n\\n  useEffect(() => {\\n    const container = containerRef.current;\\n    const graph = graphRef.current;\\n\\n    if (!options || !container || !graph || graph.destroyed) return;\\n\\n    graph.setOptions(options);\\n    graph\\n      .render()\\n      .then(() => onRender?.(graph))\\n      // eslint-disable-next-line no-console\\n      .catch((error) => console.debug(error));\\n  }, [options]);\\n\\n  return <div ref={containerRef} style={{ width: '100%', height: '100%' }} />;\\n};\\n\",\"paraId\":3,\"tocIndex\":1}];\n  "],"names":[],"mappings":"6PAEe,6CAAA,QADN,YACA,IAAM,EAAQ,CAAC,CAAC,MAAQ,4IAAmC,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,2BAAO,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,UAAK,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,yrBAAyrB,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,sOAAuD,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,2uCAA2uC,OAAS,EAAE,SAAW,CAAC,EAAE"}